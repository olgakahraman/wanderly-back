<!DOCTYPE html>
<html>
  <head>
    <title>Wanderly - My travels</title>
    <style>
      body {
        font-family: 'Arial', sans-serif;
        padding: 20px;
      }
      .map {
        display: flex;
        gap: 10px;
        margin: 20px 0;
      }
      .country {
        padding: 8px;
        background: #f0f8ff;
        border-radius: 4px;
      }
      form {
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <% if (user) { %>
      <h1>Hi, <%= user.name || user.email %>!</h1>
      <a href="/auth/logout">Logout</a>
      
      <h2>Your map of visited countries</h2>
      <div class="map">
        <% countries.forEach(country => { %>
        <div
          class="country"
          style="<%= visitedCountries.includes(country) ? 'background: #7fffd4;' : '' %>"     
        >
          <%= country %>
        </div>
        <% }) %>
      </div>

      <form method="POST">
        <select name="country">
          <% countries.forEach(country => { %>
          <option value="<%= country %>"><%= country %></option>
          <% }) %>
        </select>
        <button>Add to My Visited Countries</button>
      </form>
    <% } else { %>
      <p>Please <a href="/auth/login">login</a> to view your travel map.</p>
    <% } %>
  </body>
</html>
